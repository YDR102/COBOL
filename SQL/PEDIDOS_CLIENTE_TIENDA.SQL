DROP TABLE IF EXISTS PEDIDOS_CLIENTE;
DROP TABLE IF EXISTS CLIENTES_TIENDA;
CREATE TABLE CLIENTES_TIENDA
(
    ID_CLIENTE INTEGER NOT NULL,
    NOMBRE CHAR(30),
    APELLIDO1_CLI CHAR(20),
    APELLIDO2_CLI CHAR(20),
    TELEFONO CHAR(15),
    FECHA_ALTA DATE,
    CONSTRAINT PK_ID_CLIENTE PRIMARY KEY (ID_CLIENTE)
);
CREATE TABLE PEDIDOS_CLIENTE
(
    ID_PEDIDO INTEGER NOT NULL,
    ID_CLIENTE INTEGER,
    FECHA_PEDIDO DATE,
    IMPORTE_TOTAL DECIMAL(10,2),
    ESTADO CHAR(9),
    TIPO_ENVIO CHAR(8),
    COMENTARIOS CHAR(50),
    CONSTRAINT PK_ID_PEDIDO PRIMARY KEY (ID_PEDIDO),
    CONSTRAINT FK_ID_CLIENTE FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTES_TIENDA(ID_CLIENTE)
);

CREATE UNIQUE INDEX IDX_ID_PEDIDO ON PEDIDOS_CLIENTE (ID_PEDIDO);
CREATE UNIQUE INDEX IDX_ID_CLIENTE ON CLIENTES_TIENDA (ID_CLIENTE);

INSERT INTO CLIENTES_TIENDA
VALUES
    (13, 'David', 'Ruano', 'Marin', 640931336, '2025-10-18'),
    (99, 'Raquel', 'Matin', 'Espliego', 612345678, '2025-09-08'),
    (15, 'Radha', 'Ruano', 'Platon', 698765432, '2025-01-01'),
    (16, 'Enrique', 'Ruano', 'Crespo', 677889900, '2025-01-29'),
    (7, 'Ana', 'Perez', 'Lopez', 612345678, '2025-12-31'),
    (18, 'Cliente18', 'Apellido1', 'Apellido2', 600000018, '2025-05-22'),
    (19, 'Cliente19', 'Apellido1', 'Apellido2', 600000019, '2025-04-24'),
    (30, 'Cliente30', 'Apellido1', 'Apellido2', 600000030, '2025-07-15'),
    (21, 'Cliente21', 'Apellido1', 'Apellido2', 600000021, '2025-09-21'),
    (2, 'Cliente2', 'Apellido1', 'Apellido2', 600000002, '2025-11-28')
;

INSERT INTO PEDIDOS_CLIENTE
    (ID_PEDIDO, ID_CLIENTE, FECHA_PEDIDO, IMPORTE_TOTAL, ESTADO, TIPO_ENVIO, COMENTARIOS)
VALUES
    (1, 13, '2025-10-18', 10.00, 'PENDIENTE', 'EXPRESS', NULL),
    (2, 99, '2025-09-08', 20.00, 'ENVIADO', 'STANDARD', 'DEJAR EN PATIO DE VECINO'),
    (3, 15, '2025-01-01', 30.00, 'ENTREGADO', 'EXPRESS', 'CUIDADO CON EL PERRO'),
    (4, 16, '2025-01-29', 40.00, 'ENTREGADO', 'STANDARD', NULL),
    (5, 7, '2025-12-31', 50.00, 'PENDIENTE', 'EXPRESS', 'CUIDADO CON EL PERRO'),
    (6, 18, '2025-05-22', 60.00, 'ENVIADO', 'STANDARD', 'FRAGIL'),
    (7, 19, '2025-04-24', 70.00, 'ENTREGADO', 'EXPRESS', 'PEDIDO URGENTE'),
    (8, 30, '2025-07-15', 80.00, 'ENVIADO', 'STANDARD', NULL),
    (9, 21, '2025-09-21', 90.00, 'PENDIENTE', 'EXPRESS', 'PEDIDO URGENTE'),
    (10, 2, '2025-11-28', 100.00, 'ENVIADO', 'STANDARD', 'DEJAR CON EL PORTERO')
-- Si quieres evitar filas con NULL en los resultados del JOIN, usa INNER JOIN en vez de LEFT JOIN:
SELECT *
FROM CLIENTES_TIENDA T
    INNER JOIN PEDIDOS_CLIENTE C ON T.ID_CLIENTE = C.ID_CLIENTE

SELECT *
FROM CLIENTES_TIENDA T INNER JOIN PEDIDOS_CLIENTE C ON T.ID_CLIENTE = C.ID_CLIENTE
